<div class="sidebar-view-community">
    <div class="community-details">
        <div class="community-profile-image"><app-image></app-image></div> 
        <div class="community-profile-info">
            <div class="top-right">
                <button class="settings-button" *ngIf="isOwnerUser()" (click)="toggleSettings()">Settings</button>
                <div class="community-upload" *ngIf="showUploadButtons">
                    <app-image-upload-component [communityModel]="community"></app-image-upload-component>
                </div>
            </div>
            
            <div class="community-title">at/{{ community?.name }}</div>
            <div class="community-profile-description"><strong>Description:</strong> {{ community?.description }}</div>
            <div class="community-profile-usercount">Subscribers: {{ userCount }}</div>
            <div class="community-profile-buttons">
                <button class="subscribe-button" *ngIf="isPublic && !isSubscribed" (click)="subscribeToCommunity()">Subscribe</button>
                
                <button class="leave-button" *ngIf="isSubscribed" (click)="leaveCommunity()">Leave</button>
                
                <button class="subscribe-button" *ngIf="!isPublic && !isSubscribed" (click)="applyToCommunity()">Apply</button>
            </div>
            
            <div class="community-profile-public">
                <div *ngIf="isPublic; else privateContent">Public Community</div>
                <ng-template #privateContent>Private Community</ng-template>
            </div>
        </div>
    </div>
</div>
